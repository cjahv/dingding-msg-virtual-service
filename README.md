# 钉钉机器人-群晖虚拟短信服务提供商

群晖提供了短信通知功能，不过短信资费相对个人日常使用不实用。现在通过该项目可以将群晖短信用钉钉机器人发出！

## 服务部署

### docker方式

将代码下载到群晖，执行命令`sh build.sh`

### 群晖直接执行

1. 先在套件中心安装node 8
2. 执行`node index.js`
3. 改方式的后台执行方式不做讨论

### 其他

参照群晖直接执行方式

## 群晖上的设置

1. 导航到 -> 控制面板 -> 通知设置 -> 短信
2. 启用短信通知 -> 新增短信服务提供商
3. 短信提供商名称：任意
4. 测试网址：http://<服务所在ip>:6450/send
5. http 方法： POST
6. 两次下一步到"编辑http正文"
7. 新增app_id，message，to三个参数，点击下一步
8. 对应的映射类型「app_id:API 密钥」 「message:短信内容」 「to:电话号码」 应用
9. 主要电话号码任意填写，但不能留空
10. api 密钥处填写钉钉机器人access_token，不包含网址前缀
11. 应用
12. 寄送测试短信
